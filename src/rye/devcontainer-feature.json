{
    "id": "rye",
    "version": "1.1.14",
    "name": "Rye",
    "description": "A Hassle-Free Python Experience",
    "dependsOn": {
        "ghcr.io/devcontainers/features/common-utils": {}
    },
    "installsAfter": ["ghcr.io/devcontainers/features/python"],
    "options": {
        "uv": {
            "type": "boolean",
            "default": true,
            "description": "uv enabled"
        },
        "ruffOnSave": {
            "type": "boolean",
            "default": true,
            "description": "Enables autoformat, autofix, autoorganize of imports on save."
        }
    },
    "containerEnv": {
        "RYE_INSTALL_OPTION": "--yes",
        "RYE_NO_AUTO_INSTALL": "1",
        "RYE_HOME": "/usr/local/lib/rye",
        "PATH": "/usr/local/lib/rye/shims:${PATH}"
    },
    "postCreateCommand": "echo '. \"$HOME/.rye/env\"' >> ~/.profile",
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-python.python",
                "charliermarsh.ruff",
                "tamasfe.even-better-toml"
            ],
            "settings": {
                "python.defaultInterpreterPath": ".venv/bin/python",
                "python.testing.unittestEnabled": false,
                "python.testing.pytestEnabled": true,
                "python.analysis.typeCheckingMode": "basic",
                "python.terminal.activateEnvInCurrentTerminal": true,
                "editor.formatOnSave": true,
                "[python]": {
                    "editor.formatOnSave": true,
                    "editor.codeActionsOnSave": {
                        "source.fixAll": "explicit",
                        "source.organizeImports": "explicit"
                    },
                    "editor.defaultFormatter": "charliermarsh.ruff"
                },
                "notebook.formatOnSave.enabled": true,
                "notebook.codeActionsOnSave": {
                  "notebook.source.fixAll": "explicit",
                  "notebook.source.organizeImports": "explicit"
                }
            }
        }
    }
}
